import{u,r as a,j as s,c as b,R as j}from"./store-cylqlXLn.js";function N(){const{blockedSites:n,loadBlockedSites:d,addBlockedSite:r,removeBlockedSite:m,exportData:p}=u(),[o,c]=a.useState(""),[i,t]=a.useState("");a.useEffect(()=>{d()},[]);const l=async()=>{const e=o.trim().toLowerCase().replace(/^https?:\/\/(www\.)?/,"").split("/")[0];e&&(await r(e),c(""),t(`"${e}" added to blocklist!`),setTimeout(()=>t(""),3e3))},h=async e=>{await m(e),t(`"${e}" removed.`),setTimeout(()=>t(""),2e3)},x=()=>{p()};return s.jsxs("div",{className:"options-container",children:[s.jsx("header",{className:"options-header",children:s.jsxs("div",{className:"options-logo",children:[s.jsx("span",{className:"logo-icon",children:"âš¡"}),s.jsx("h1",{children:"Productivity Suite"}),s.jsx("span",{className:"logo-subtitle",children:"Settings"})]})}),s.jsxs("main",{className:"options-main",children:[s.jsxs("section",{className:"options-section",children:[s.jsx("h2",{className:"section-title",children:"ðŸš« Website Blocker"}),s.jsx("p",{className:"section-description",children:"Block distracting websites during focus sessions. Settings sync across your devices."}),s.jsxs("div",{className:"add-block-row",children:[s.jsx("input",{type:"text",className:"input-field","data-testid":"block-hostname-input",placeholder:"e.g. facebook.com",value:o,onChange:e=>c(e.target.value),onKeyDown:e=>e.key==="Enter"&&l()}),s.jsx("button",{className:"btn btn-primary","data-testid":"add-block-btn",onClick:l,children:"Block Site"})]}),i&&s.jsx("p",{className:"status-msg",children:i}),s.jsx("div",{className:"blocked-sites-list","data-testid":"blocked-sites-list",children:n.length===0?s.jsx("p",{className:"empty-state",children:"No blocked sites. Add one above."}):n.map(e=>s.jsxs("div",{className:"blocked-site-item",children:[s.jsxs("span",{className:"site-hostname",children:["ðŸ”’ ",e]}),s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>h(e),children:"Remove"})]},e))})]}),s.jsxs("section",{className:"options-section",children:[s.jsx("h2",{className:"section-title",children:"ðŸ“¦ Data Management"}),s.jsx("p",{className:"section-description",children:"Export all your notes, tab sessions, and blocklist as a single JSON file."}),s.jsx("button",{className:"btn btn-accent","data-testid":"export-data-btn",onClick:x,children:"Export All Data"})]})]})]})}b.createRoot(document.getElementById("options-root")).render(s.jsx(j.StrictMode,{children:s.jsx(N,{})}));
